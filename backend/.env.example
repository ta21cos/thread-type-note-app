# Backend Environment Variables
# Copy this file to .env for development or .env.test for testing

PORT=3000
NODE_ENV=development

# For local / development only
DATABASE_URL=data/notes.db

# For production only
CLOUDFLARE_ACCOUNT_ID=
CLOUDFLARE_DATABASE_ID=
CLOUDFLARE_D1_TOKEN=

# ===== Auth / OIDC Configuration =====

# Auth0 Configuration (Upstream IDaaS)
IDP_ISSUER=https://YOUR_TENANT.auth0.com/
IDP_CLIENT_ID=your_auth0_client_id
IDP_CLIENT_SECRET=your_auth0_client_secret
IDP_AUTHORIZE_URL=https://YOUR_TENANT.auth0.com/authorize
IDP_TOKEN_URL=https://YOUR_TENANT.auth0.com/oauth/token
IDP_USERINFO_URL=https://YOUR_TENANT.auth0.com/userinfo
IDP_JWKS_URL=https://YOUR_TENANT.auth0.com/.well-known/jwks.json

# Self-hosted OIDC Configuration
SELF_ISSUER=https://auth.yourdomain.com
SELF_CALLBACK_URL=https://auth.yourdomain.com/auth/callback
ACCESS_TOKEN_TTL_SEC=600
REFRESH_TOKEN_TTL_SEC=2592000

# Allowed Redirect URIs (comma-separated)
# NOTE: Electron uses custom protocol, Expo uses universal links
ALLOWED_REDIRECT_URIS=myapp://auth/callback,https://login.example.com/auth/callback

# Cloudflare Turnstile (Bot Protection - Optional for MVP)
TURNSTILE_SITE_KEY=
TURNSTILE_SECRET_KEY=